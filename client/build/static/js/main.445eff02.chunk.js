(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){},42:function(e,t,a){e.exports=a(91)},47:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),o=a.n(c),l=(a(47),a(14)),s=a(15),i=a(20),u=a(16),m=a(21),d=a(94),p=a(97),E=a(96),g=a(2),f=a(4),b=a.n(f),h=a(17),v=a.n(h),O=function(e){return{type:"SET_CURRENT_USER",payload:e}},y=a(9),j=a(39),N=a(11);var S={isAuthenticated:!1,user:{}},T={},_={},R={},w=Object(y.c)({auth:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_CURRENT_USER":return Object(N.a)({},t,{isAuthenticated:(e=a.payload,!(void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length)),user:a.payload});default:return t}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;case"CLEAR_ERRORS":return{};default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TAG":return Object(N.a)({},e,{tag:t.payload});case"GET_TAGS":return Object(N.a)({},e,{data:t.payload});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_POSTS":return Object(N.a)({},e,{data:t.payload});case"GET_POST":return Object(N.a)({},e,{post:t.payload});default:return e}}}),k=[j.a],C=Object(y.e)(w,{},Object(y.d)(y.a.apply(void 0,k),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),x=a(3);a(73);var P=Object(g.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){t({type:"CLEAR_ERRORS"}),b.a.post("/api/user/login",e).then(function(e){var a=e.data.token;b.a.defaults.headers.common.Authorization=a,localStorage.setItem("jwtToken",a);var n=v()(a);t(O(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),i=s[0],u=s[1];return Object(n.useEffect)(function(){e.auth.isAuthenticated&&e.history.push("/dashboard")}),r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"text-center"},"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.loginUser({email:c,password:i})},noValidate:!0},r.a.createElement("input",{type:"email",name:"email",placeholder:"Your Email",onChange:function(e){return o(e.target.value)},className:e.errors.email?"is-invalid":""}),e.errors.email&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.email),r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",autoComplete:"on",onChange:function(e){return u(e.target.value)},className:e.errors.password?"is-invalid":""}),e.errors.password&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.password),r.a.createElement("input",{type:"submit",value:"Login"})))}),G=a(93),D=(a(74),function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Dashboard"),r.a.createElement("div",{className:"text-center"},r.a.createElement(G.a,{to:"/",className:"btn bg-gray"},"Blog Page"),r.a.createElement(G.a,{to:"/create-post",className:"btn bg-green"},"Create Post"),r.a.createElement(G.a,{to:"/create-tag",className:"btn bg-green"},"Create Tag")))}),A=function(){return function(e){b.a.get("/api/tag/all").then(function(t){return e({type:"GET_TAGS",payload:t.data})}).catch(function(t){return e({type:"GET_ERRORS",payload:t.response.data})})}};var I=Object(g.b)(function(e){return{errors:e.errors}},{createTag:function(e,t){return function(a){b.a.post("/api/tag",e).then(function(e){return t.push("/edit-tag/id/".concat(e.data._id))}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),i=s[0],u=s[1];return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Create Tag"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.createTag({name:c,description:i},e.history)},noValidate:!0},r.a.createElement("input",{type:"text",name:"name",placeholder:"Name",className:e.errors.name?"is-invalid":"",onChange:function(e){return o(e.target.value)}}),e.errors.name&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.name),r.a.createElement("input",{type:"text",name:"description",placeholder:"Description",className:e.errors.description?"is-invalid":"",onChange:function(e){return u(e.target.value)}}),e.errors.description&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.description),r.a.createElement("input",{type:"submit",name:"Create"})))});var Y=Object(g.b)(function(e){return{errors:e.errors,tags:e.tags}},{editTag:function(e,t){return function(a){b.a.put("/api/tag/id/".concat(e),t).then(function(e){return window.location.reload()}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}},loadTagData:function(e){return function(t){b.a.get("/api/tag/id/".concat(e)).then(function(e){return t({type:"GET_TAG",payload:e.data})}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),i=s[0],u=s[1];return Object(n.useEffect)(function(){e.loadTagData(e.match.params.id)},[]),Object(n.useEffect)(function(){if(e.tags.tag){var t=e.tags.tag,a=t.name,n=t.description;o(a),u(n)}},e.tags.tag),e.tags.tag?r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Edit tag"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.editTag(e.match.params.id,{name:c,description:i})},noValidate:!0},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",name:"name",id:"name",value:c,className:e.errors.name?"is-invalid":"",onChange:function(e){return o(e.target.value)}}),e.errors.name&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.name),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{type:"text",name:"description",id:"description",value:i,className:e.errors.description?"is-invalid":"",onChange:function(e){return u(e.target.value)}}),e.errors.description&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.description),r.a.createElement("input",{type:"submit",name:"Update"}))):r.a.createElement("h1",null,"No Tag Found")}),U=function(e){return function(t){b.a.get("/api/post/cuid/".concat(e)).then(function(e){return t({type:"GET_POST",payload:e.data})}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}};a(75);var L=Object(g.b)(function(e){return{errors:e.errors,tags:e.tags}},{getTags:A,createPost:function(e,t){return function(a){b.a.post("/api/post",e).then(function(e){return t.push("/edit-post/cuid/".concat(e.data.cuid))}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(x.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)(""),f=Object(x.a)(g,2),b=f[0],h=f[1];return Object(n.useEffect)(function(){e.getTags()}),r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Create Post"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.createPost({title:c,subtitle:i,content:p,tag:b},e.history)},noValidate:!0},r.a.createElement("input",{name:"title",onChange:function(e){return o(e.target.value)},className:e.errors.title?"is-invalid":"",placeholder:"Title"}),e.errors.title&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.title),r.a.createElement("input",{name:"subtitle",onChange:function(e){return u(e.target.value)},className:e.errors.subtitle?"is-invalid":"",placeholder:"Subtitle"}),e.errors.subtitle&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.subtitle),r.a.createElement("textarea",{name:"content",onChange:function(e){return E(e.target.value)},className:e.errors.content?"is-invalid":"",placeholder:"Content"}),e.errors.content&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.content),r.a.createElement("select",{name:"tag",onChange:function(e){return h(e.target.value)},className:e.errors.tag?"is-invalid":""},r.a.createElement("option",{value:""},"--Select Tag--"),e.tags.data&&e.tags.data.map(function(e){return r.a.createElement("option",{value:e._id,key:e._id},e.name)})),e.errors.tag&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.tag),r.a.createElement("input",{type:"submit",value:"Publish"})))});var M=Object(g.b)(function(e){return{errors:e.errors,tags:e.tags,posts:e.posts}},{getTags:A,editPost:function(e,t){return function(a){b.a.put("/api/post/cuid/".concat(e),t).then(function(e){return window.location.reload()}).catch(function(e){return a({type:"GET_ERRORS",payload:e.response.data})})}},getPost:U})(function(e){var t=Object(n.useState)(""),a=Object(x.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)(""),d=Object(x.a)(m,2),p=d[0],E=d[1],g=Object(n.useState)(""),f=Object(x.a)(g,2),b=f[0],h=f[1];return Object(n.useEffect)(function(){e.getPost(e.match.params.cuid),e.getTags()},[]),Object(n.useEffect)(function(){if(e.posts.post){var t=e.posts.post,a=t.title,n=t.subtitle,r=t.content,c=e.posts.post.tag._id;o(a),u(n),E(r),h(c)}},e.posts.post),r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"Edit Post"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.editPost(e.match.params.cuid,{title:c,subtitle:i,content:p,tag:b})},noValidate:!0},r.a.createElement("label",{for:"title"},"Title"),r.a.createElement("input",{name:"title",id:"title",onChange:function(e){return o(e.target.value)},className:e.errors.title?"is-invalid":"",value:c}),e.errors.title&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.title),r.a.createElement("label",{for:"subtitle"},"Subtitle"),r.a.createElement("input",{name:"subtitle",id:"subtitle",onChange:function(e){return u(e.target.value)},className:e.errors.subtitle?"is-invalid":"",value:i}),e.errors.subtitle&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.subtitle),r.a.createElement("label",{for:"content"},"Content"),r.a.createElement("textarea",{name:"content",id:"content",onChange:function(e){return E(e.target.value)},className:e.errors.content?"is-invalid":"",value:p}),e.errors.content&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.content),r.a.createElement("label",{for:"tag"},"Tag"),r.a.createElement("select",{name:"tag",id:"tag",onChange:function(e){return h(e.target.value)},className:e.errors.tag?"is-invalid":""},r.a.createElement("option",{value:""},"--Select Tag--"),e.tags.data&&e.tags.data.map(function(e){return b===e._id?r.a.createElement("option",{value:e._id,key:e._id,selected:!0},e.name):r.a.createElement("option",{value:e._id,key:e._id},e.name)})),e.errors.tag&&r.a.createElement("span",{className:"invalid-feedback"},e.errors.tag),r.a.createElement("input",{type:"submit",value:"Update"})))}),V=a(12),B=a.n(V);var F=Object(g.b)(function(e){return{tags:e.tags}},{getTags:A})(function(e){return Object(n.useEffect)(function(){e.getTags()},[]),r.a.createElement("aside",null,r.a.createElement("p",null,r.a.createElement(G.a,{to:"/"},r.a.createElement("span",{role:"img","aria-label":"home"},"\ud83c\udfe1")," Home")),r.a.createElement("p",null,"Hi ",r.a.createElement("span",{role:"img","aria-label":"wave"},"\ud83d\udc4b\ud83c\udffc")," I'm Jed, a web developer.",r.a.createElement("br",null),"I create this blog just for learning ReactJS and NodeJS."),r.a.createElement("p",null,"Source: ",r.a.createElement("a",{href:"https://flaviocopes.com/"},"Flaviocopes.com")),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){localStorage.setItem("mode","dark"===(localStorage.getItem("mode")||"dark")?"light":"dark"),"dark"===localStorage.getItem("mode")?document.querySelector("body").classList.add("dark"):document.querySelector("body").classList.remove("dark")}},r.a.createElement("span",{role:"img","aria-label":"moon"},"\ud83c\udf13")," Light|dark mode")),r.a.createElement("h4",null,"My Recommended Courses"),r.a.createElement("ul",null,r.a.createElement("li",null,"Course 1"),r.a.createElement("li",null,"Course 2"),r.a.createElement("li",null,"Course 3"),r.a.createElement("li",null,"Course 4")),e.tags.data&&r.a.createElement("div",{className:"tags-cloud"},e.tags.data.map(function(e){return r.a.createElement(G.a,{key:e._id,to:"/tag/".concat(e.slug),className:"bg-".concat(e.slug)},e.name)})))});a(34);var X=Object(g.b)(function(e){return{posts:e.posts}},{getPosts:function(){return function(e){b.a.get("/api/post/all").then(function(t){e({type:"GET_POSTS",payload:t.data})}).catch(function(t){return e({type:"GET_ERRORS",payload:t.response.data})})}}})(function(e){return Object(n.useEffect)(function(){e.getPosts()},[]),r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement("article",{className:"post-container"},r.a.createElement("ul",{className:"post-list"},e.posts.data&&e.posts.data.map(function(e){return r.a.createElement("li",{key:e.cuid,className:"post-item"},r.a.createElement(G.a,{to:"/post/".concat(e.slug,"-").concat(e.cuid)},r.a.createElement("h3",{className:"title"},e.title),r.a.createElement("p",{className:"subtitle"},e.subtitle)),r.a.createElement("div",{className:"date-tag"},r.a.createElement(B.a,{format:"MMM DD YYYY"},e.dateAdded),r.a.createElement("div",{className:"tag"},r.a.createElement(G.a,{className:"button-tag bg-".concat(e.tag.slug),to:"/tag/".concat(e.tag.slug)},e.tag.name))))}))))}),J=a(40),z=a.n(J);var H=Object(g.b)(function(e){return{posts:e.posts}},{getPost:U})(function(e){return Object(n.useEffect)(function(){var t=e.match.params.slugcuid.split("-").pop();e.getPost(t)},[]),r.a.createElement("div",{class:"container"},r.a.createElement(F,null),e.posts.post&&r.a.createElement("article",{className:"post-container"},r.a.createElement("h1",null,e.posts.post.title),r.a.createElement("p",null,e.posts.post.subtitle),r.a.createElement("p",{className:"single-post-date"},"Published ",r.a.createElement(B.a,{format:"MMM DD YYYY"},e.posts.post.dateAdded)),r.a.createElement("div",{className:"single-post-content"},z()(e.posts.post.content))))});var W=Object(g.b)(function(e){return{posts:e.posts}},{getPostsByTagSlug:function(e){return function(t){b.a.get("/api/post/tag/slug/".concat(e)).then(function(e){t({type:"GET_POSTS",payload:e.data})}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(function(e){return Object(n.useEffect)(function(){e.getPostsByTagSlug(e.match.params.tag)},[e.match.params.tag]),r.a.createElement("div",{className:"container"},r.a.createElement(F,null),r.a.createElement("article",{className:"post-container"},r.a.createElement("ul",{className:"post-list"},e.posts.data&&e.posts.data.map(function(e){return r.a.createElement("li",{key:e.cuid,className:"post-item"},r.a.createElement(G.a,{to:"/post/".concat(e.slug,"-").concat(e.cuid)},r.a.createElement("h3",{className:"title"},e.title),r.a.createElement("p",{className:"subtitle"},e.subtitle)),r.a.createElement("div",{className:"date-tag"},r.a.createElement(B.a,{format:"MMM DD YYYY"},e.dateAdded),r.a.createElement("div",{className:"tag"},r.a.createElement(G.a,{to:"/tag/".concat(e.tag.slug),className:"button-tag bg-".concat(e.tag.slug)},e.tag.name))))}))))}),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hello:"Hello"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.hello," + ",this.props.name," + ","production"))}}]),t}(r.a.Component);q.defaultProps={name:"World",bar:"Bar"},q.displayName="Foo";var $=q,K=a(41),Q=a(95),Z=Object(g.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(K.a)(e,["component","auth"]);return a.isAuthenticated?r.a.createElement(p.a,Object.assign({},n,{component:t})):r.a.createElement(Q.a,{to:"/login"})});a(90);if(b.a.defaults.baseURL="https://flaviocopes-clone.herokuapp.com/",localStorage.getItem("jwtToken")){var ee=localStorage.getItem("jwtToken");b.a.defaults.headers.common.Authorization=ee;var te=v()(ee);C.dispatch(O(te)),te.exp<Date.now()/1e3&&(C.dispatch(function(e){delete b.a.defaults.headers.common.Authorization,localStorage.removeItem("jwtToken"),e(O({}))}),window.location.href="/")}var ae=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{store:C},r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(p.a,{exact:!0,path:"/login",component:P}),r.a.createElement(p.a,{exact:!0,path:"/",component:X}),r.a.createElement(p.a,{exact:!0,path:"/post/:slugcuid",component:H}),r.a.createElement(p.a,{exact:!0,path:"/tag/:tag",component:W}),r.a.createElement(p.a,{exact:!0,path:"/hello",component:$}),r.a.createElement(E.a,null,r.a.createElement(Z,{exact:!0,path:"/dashboard",component:D})),r.a.createElement(E.a,null,r.a.createElement(Z,{exact:!0,path:"/create-tag",component:I})),r.a.createElement(E.a,null,r.a.createElement(Z,{exact:!0,path:"/edit-tag/id/:id",component:Y})),r.a.createElement(E.a,null,r.a.createElement(Z,{exact:!0,path:"/create-post",component:L})),r.a.createElement(E.a,null,r.a.createElement(Z,{exact:!0,path:"/edit-post/cuid/:cuid",component:M})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.445eff02.chunk.js.map